<html>
<head>
<style>
dt {
	text-transform: capitalize;
	font-weight: bold;
	margin-top: 1em;
}
img {
	display: block;
	margin-top: 0.5em;
}
</style>
</head>
<body>
<h1>Nestrischamps Layouts</h1>
<p>On this page, you will find URLs for layouts you can use in your OBS' browser sources.</p>

<p>This URLs identify <b>YOU</b> as a user, do NOT share them. They contain your secret identifier <b><%= secret %></b> (see <a href="/docs/">documentation</a> for details).</p>

<p>There are many templates you can try. Play around to get a sense of them all.</p>

<p>Your OBS browser sources must have a canva size of 1280x720 to show the layouts fully.</p>

<p>The background in the layouts is tunable. Use the query string <strong>?bg=X</strong> to change it, where X is a number as follow:</p>
<ol start="0">
	<li>Transparent background</li>
	<li>Black background with randomly positioned tetris tiles: <img src="/docs/backgrounds/tiles.jpg" /></li>
	<li>Green Nestrischamps animated background (branding FTW!): <img src="/docs/backgrounds/nestrischamps_green.jpg" /></li>
	<li>Rainbow Nestrischamps animated background: <img src="/docs/backgrounds/nestrischamps_rainbow.jpg" /></li>
</ol>

<h2 id="single">Single player layouts</h2>

<dl>
<% layouts._types['1p'].forEach(layout => { %>
<dt id="<%= layout.file %>"><%= layout.file.replace(/_/g, ' ') %></dt>
<dd><a href="/view/<%= layout.file %>/<%= secret %>">-</a>
	<% layout.screenshot_uris.forEach(uri => { %>
	<img src="<%= uri %>" width="640"/>
	<% }) %>
</dd>
<% }) %>
</dl>

<h2 id="competition">Competition layouts</h2>

<dl>
<% layouts._types.mp.forEach(layout => { %>
<dt id="<%= layout.file %>"><%= layout.file.replace(/_/g, ' ') %></dt>
<dd>
	<% if (layout.info && layout.info.description) { %>
		<p><%= layout.info.description %></p>
	<% } %>

	<a href="/view/<%= layout.file %>/<%= secret %>">-</a>
	<% layout.screenshot_uris.forEach(uri => { %>
	<img src="<%= uri %>" width="640"/>
	<% }) %>

</dd>
<% }) %>
</dl>

<p>If you'd like to change your secret, visit your <a href="/settings">settings</a> page to revoke the token (and generate a new one)</p>

<script>
document.querySelectorAll('dd a').forEach(a => {
	// Views are identified by their secrets and only get game frame data, we can supply the links over http and save SSL processing cost.
	const http_link = a.href.replace(/^https:/, 'http:');

	a.href = http_link;
	a.textContent = http_link; // make the link show the fully qualified url
});
</script>
</body>
</html>
